import{S as Z,i as z,s as J,e as w,t as M,c as q,a as E,h as O,d as v,b as F,g as R,F as y,G as et,j as rt,Z as K,a6 as Q,w as B,x as C,y as G,X as at,q as j,o as $,B as L,k as I,Y as lt,m as V,p as U,K as st,a0 as nt,a1 as ot,V as ct,W as it,n as W,U as ft,N as ut}from"../chunks/vendor-bc34623b.js";import{P as x}from"../chunks/ProjectList-d56948d6.js";import{b as _t,a as gt}from"../chunks/filters-cc608ede.js";import{R as pt}from"../chunks/RemoveFilter-2f519abb.js";import"../chunks/ProjectTag-8c565096.js";import"../chunks/singletons-d1fb5791.js";function mt(s){let t,r,e,o;return{c(){t=w("p"),r=M(s[1]),this.h()},l(n){t=q(n,"P",{class:!0});var a=E(t);r=O(a,s[1]),a.forEach(v),this.h()},h(){F(t,"class","tag svelte-1y5873w")},m(n,a){R(n,t,a),y(t,r),e||(o=et(t,"click",s[2]),e=!0)},p(n,[a]){a&2&&rt(r,n[1])},i:K,o:K,d(n){n&&v(t),e=!1,o()}}}function dt(s,t,r){let{tag:e}=t,{tagScelto:o}=t;const n=()=>r(0,o=e);return s.$$set=a=>{"tag"in a&&r(1,e=a.tag),"tagScelto"in a&&r(0,o=a.tagScelto)},[o,e,n]}class ht extends Z{constructor(t){super();z(this,t,dt,mt,J,{tag:1,tagScelto:0})}}function X(s,t,r){const e=s.slice();return e[8]=t[r],e}function Y(s){let t,r,e;function o(a){s[4](a)}let n={tag:s[8]};return s[1]!==void 0&&(n.tagScelto=s[1]),t=new ht({props:n}),ct.push(()=>it(t,"tagScelto",o)),{c(){B(t.$$.fragment)},l(a){C(t.$$.fragment,a)},m(a,u){G(t,a,u),e=!0},p(a,u){const h={};!r&&u&2&&(r=!0,h.tagScelto=a[1],at(()=>r=!1)),t.$set(h)},i(a){e||(j(t.$$.fragment,a),e=!0)},o(a){$(t.$$.fragment,a),e=!1},d(a){L(t,a)}}}function vt(s){let t,r;return t=new x({props:{projects:s[2]}}),{c(){B(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,o){G(t,e,o),r=!0},p(e,o){const n={};o&4&&(n.projects=e[2]),t.$set(n)},i(e){r||(j(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){L(t,e)}}}function jt(s){let t,r;return t=new x({props:{projects:s[0]}}),{c(){B(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,o){G(t,e,o),r=!0},p(e,o){const n={};o&1&&(n.projects=e[0]),t.$set(n)},i(e){r||(j(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){L(t,e)}}}function bt(s){let t,r,e,o,n,a,u,h,d,P,i,g,m,D,k=s[3],c=[];for(let l=0;l<k.length;l+=1)c[l]=Y(X(s,k,l));const tt=l=>$(c[l],1,1,()=>{c[l]=null});d=new pt({});const T=[jt,vt],b=[];function A(l,_){return l[2].length==0?0:1}return g=A(s),m=b[g]=T[g](s),{c(){t=I(),r=w("div"),e=w("h1"),o=M("Progetti"),a=I(),u=w("div");for(let l=0;l<c.length;l+=1)c[l].c();h=I(),B(d.$$.fragment),P=I(),i=w("div"),m.c(),this.h()},l(l){lt('[data-svelte="svelte-fjcqbm"]',document.head).forEach(v),t=V(l),r=q(l,"DIV",{class:!0});var p=E(r);e=q(p,"H1",{class:!0});var f=E(e);o=O(f,"Progetti"),f.forEach(v),a=V(p),u=q(p,"DIV",{class:!0});var S=E(u);for(let N=0;N<c.length;N+=1)c[N].l(S);h=V(S),C(d.$$.fragment,S),S.forEach(v),P=V(p),i=q(p,"DIV",{class:!0});var H=E(i);m.l(H),H.forEach(v),p.forEach(v),this.h()},h(){document.title="Progetti",F(e,"class","svelte-1lymafv"),F(u,"class","tag-list svelte-1lymafv"),F(i,"class","progetti svelte-1lymafv"),F(r,"class","container svelte-1lymafv")},m(l,_){R(l,t,_),R(l,r,_),y(r,e),y(e,o),y(r,a),y(r,u);for(let p=0;p<c.length;p+=1)c[p].m(u,null);y(u,h),G(d,u,null),y(r,P),y(r,i),b[g].m(i,null),D=!0},p(l,[_]){if(_&10){k=l[3];let f;for(f=0;f<k.length;f+=1){const S=X(l,k,f);c[f]?(c[f].p(S,_),j(c[f],1)):(c[f]=Y(S),c[f].c(),j(c[f],1),c[f].m(u,h))}for(W(),f=k.length;f<c.length;f+=1)tt(f);U()}let p=g;g=A(l),g===p?b[g].p(l,_):(W(),$(b[p],1,1,()=>{b[p]=null}),U(),m=b[g],m?m.p(l,_):(m=b[g]=T[g](l),m.c()),j(m,1),m.m(i,null))},i(l){if(!D){n||st(()=>{n=ft(e,ut,{y:-100,duration:500}),n.start()});for(let _=0;_<k.length;_+=1)j(c[_]);j(d.$$.fragment,l),j(m),D=!0}},o(l){c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)$(c[_]);$(d.$$.fragment,l),$(m),D=!1},d(l){l&&v(t),l&&v(r),nt(c,l),L(d),b[g].d()}}}async function Et(){const s=new Q.GraphQLClient("https://api-eu-central-1.graphcms.com/v2/cl0se3jqv0c2e01w2c4b7ejbv/master",{headers:{}}),t=Q.gql`
			query ProjectsIndex {
				projects(orderBy: createdAt_DESC) {
					slug
					description
					id
					tags
					name
					image {
						url
					}
				}
			}
		`,{projects:r}=await s.request(t);return{props:{projects:r}}}function yt(s,t,r){let e;ot(s,gt,i=>r(6,e=i));let{projects:o}=t,n=[],a="",u=[];o.forEach(i=>{u=[...u,...i.tags]});let h=[...new Set(u.map(i=>i))];const d=i=>o.filter(g=>g.tags.includes(i));_t(()=>{r(2,n=d(e))});function P(i){a=i,r(1,a)}return s.$$set=i=>{"projects"in i&&r(0,o=i.projects)},s.$$.update=()=>{s.$$.dirty&2&&r(2,n=d(a))},[o,a,n,h,P]}class Ft extends Z{constructor(t){super();z(this,t,yt,bt,J,{projects:0})}}export{Ft as default,Et as load};
