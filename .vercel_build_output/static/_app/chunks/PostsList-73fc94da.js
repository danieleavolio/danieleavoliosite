import{S as N,i as T,s as U,w as J,x as O,y as Q,q as k,o as E,B as R,e as y,k as w,t as W,c as I,a as P,m as A,h as X,d,b as p,a3 as G,g as D,F as $,G as L,j as lt,n as Y,p as Z,K as st,U as at,a5 as nt,a0 as tt,M as rt,l as M}from"./vendor-bc34623b.js";import{g as S}from"./filters-cc608ede.js";import{P as ot}from"./PostTag-fd67d1e4.js";function j(a,t,l){const e=a.slice();return e[4]=t[l],e}function C(a){let t,l;return t=new ot({props:{tag:a[4]}}),{c(){J(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const c={};r&1&&(c.tag=e[4]),t.$set(c)},i(e){l||(k(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){R(t,e)}}}function it(a){let t,l,e,r,c,n,g=a[0].title+"",m,s,i,o,v,V,B,b=a[0].tags,f=[];for(let u=0;u<b.length;u+=1)f[u]=C(j(a,b,u));const et=u=>E(f[u],1,1,()=>{f[u]=null});return{c(){t=y("div"),l=y("img"),r=w(),c=y("div"),n=y("h3"),m=W(g),s=w(),i=y("div");for(let u=0;u<f.length;u+=1)f[u].c();this.h()},l(u){t=I(u,"DIV",{class:!0});var h=P(t);l=I(h,"IMG",{class:!0,src:!0,alt:!0}),r=A(h),c=I(h,"DIV",{class:!0});var _=P(c);n=I(_,"H3",{});var z=P(n);m=X(z,g),z.forEach(d),_.forEach(d),s=A(h),i=I(h,"DIV",{class:!0});var x=P(i);for(let q=0;q<f.length;q+=1)f[q].l(x);x.forEach(d),h.forEach(d),this.h()},h(){p(l,"class","cover svelte-1mzya1b"),G(l.src,e=a[0].coverImage.url)||p(l,"src",e),p(l,"alt",""),p(c,"class","title svelte-1mzya1b"),p(i,"class","tags svelte-1mzya1b"),p(t,"class","post svelte-1mzya1b")},m(u,h){D(u,t,h),$(t,l),$(t,r),$(t,c),$(c,n),$(n,m),$(t,s),$(t,i);for(let _=0;_<f.length;_+=1)f[_].m(i,null);v=!0,V||(B=[L(l,"click",a[2]),L(c,"click",a[3])],V=!0)},p(u,[h]){if(a=u,(!v||h&1&&!G(l.src,e=a[0].coverImage.url))&&p(l,"src",e),(!v||h&1)&&g!==(g=a[0].title+"")&&lt(m,g),h&1){b=a[0].tags;let _;for(_=0;_<b.length;_+=1){const z=j(a,b,_);f[_]?(f[_].p(z,h),k(f[_],1)):(f[_]=C(z),f[_].c(),k(f[_],1),f[_].m(i,null))}for(Y(),_=b.length;_<f.length;_+=1)et(_);Z()}},i(u){if(!v){for(let h=0;h<b.length;h+=1)k(f[h]);o||st(()=>{o=at(t,nt,{duration:500,delay:200+a[1]*100}),o.start()}),v=!0}},o(u){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)E(f[h]);v=!1},d(u){u&&d(t),tt(f,u),V=!1,rt(B)}}}function ct(a,t,l){let{post:e}=t,{index:r}=t;const c=()=>S(`posts/${e.slug}`),n=()=>S(`posts/${e.slug}`);return a.$$set=g=>{"post"in g&&l(0,e=g.post),"index"in g&&l(1,r=g.index)},[e,r,c,n]}class ft extends N{constructor(t){super();T(this,t,ct,it,U,{post:0,index:1})}}function F(a,t,l){const e=a.slice();return e[1]=t[l],e[3]=l,e}function H(a){let t,l;return t=new ft({props:{post:a[1],index:a[3]}}),{c(){J(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const c={};r&1&&(c.post=e[1]),t.$set(c)},i(e){l||(k(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){R(t,e)}}}function K(a){let t,l;return{c(){t=y("a"),l=W("Altri post"),this.h()},l(e){t=I(e,"A",{class:!0,href:!0});var r=P(t);l=X(r,"Altri post"),r.forEach(d),this.h()},h(){p(t,"class","dark-button svelte-9u023l"),p(t,"href","/posts")},m(e,r){D(e,t,r),$(t,l)},d(e){e&&d(t)}}}function ut(a){let t,l,e,r,c=a[0],n=[];for(let s=0;s<c.length;s+=1)n[s]=H(F(a,c,s));const g=s=>E(n[s],1,1,()=>{n[s]=null});let m=a[0].length==3&&K();return{c(){t=y("div");for(let s=0;s<n.length;s+=1)n[s].c();l=w(),m&&m.c(),e=M(),this.h()},l(s){t=I(s,"DIV",{class:!0});var i=P(t);for(let o=0;o<n.length;o+=1)n[o].l(i);i.forEach(d),l=A(s),m&&m.l(s),e=M(),this.h()},h(){p(t,"class","lista-progetti svelte-9u023l")},m(s,i){D(s,t,i);for(let o=0;o<n.length;o+=1)n[o].m(t,null);D(s,l,i),m&&m.m(s,i),D(s,e,i),r=!0},p(s,[i]){if(i&1){c=s[0];let o;for(o=0;o<c.length;o+=1){const v=F(s,c,o);n[o]?(n[o].p(v,i),k(n[o],1)):(n[o]=H(v),n[o].c(),k(n[o],1),n[o].m(t,null))}for(Y(),o=c.length;o<n.length;o+=1)g(o);Z()}s[0].length==3?m||(m=K(),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null)},i(s){if(!r){for(let i=0;i<c.length;i+=1)k(n[i]);r=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)E(n[i]);r=!1},d(s){s&&d(t),tt(n,s),s&&d(l),m&&m.d(s),s&&d(e)}}}function _t(a,t,l){let{posts:e}=t;return a.$$set=r=>{"posts"in r&&l(0,e=r.posts)},[e]}class dt extends N{constructor(t){super();T(this,t,_t,ut,U,{posts:0})}}export{dt as P};
