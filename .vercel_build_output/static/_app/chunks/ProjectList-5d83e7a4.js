import{S as T,i as U,s as Z,w as z,x as J,y as O,q as $,o as P,B as Q,e as b,k as V,t as R,c as q,a as y,m as A,h as W,d as m,b as p,a0 as G,g as w,F as j,G as L,j as le,n as X,p as Y,K as re,U as se,a2 as ae,Z as ee,M as ne,l as M}from"./vendor-b221bc45.js";import{g as S}from"./filters-eaee7eec.js";import{P as oe}from"./ProjectTag-00ef860c.js";function C(s,e,l){const t=s.slice();return t[4]=e[l],t}function F(s){let e,l;return e=new oe({props:{tag:s[4]}}),{c(){z(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const i={};n&1&&(i.tag=t[4]),e.$set(i)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function ce(s){let e,l,t,n,i,a,d=s[0].name+"",g,r,c,o,v,I,B,k=s[0].tags,f=[];for(let u=0;u<k.length;u+=1)f[u]=F(C(s,k,u));const te=u=>P(f[u],1,1,()=>{f[u]=null});return{c(){e=b("div"),l=b("img"),n=V(),i=b("div"),a=b("h3"),g=R(d),r=V(),c=b("div");for(let u=0;u<f.length;u+=1)f[u].c();this.h()},l(u){e=q(u,"DIV",{class:!0});var h=y(e);l=q(h,"IMG",{class:!0,src:!0,alt:!0}),n=A(h),i=q(h,"DIV",{class:!0});var _=y(i);a=q(_,"H3",{});var E=y(a);g=W(E,d),E.forEach(m),_.forEach(m),r=A(h),c=q(h,"DIV",{class:!0});var x=y(c);for(let D=0;D<f.length;D+=1)f[D].l(x);x.forEach(m),h.forEach(m),this.h()},h(){p(l,"class","cover svelte-13j2cdq"),G(l.src,t=s[0].image[0].url)||p(l,"src",t),p(l,"alt",""),p(i,"class","title svelte-13j2cdq"),p(c,"class","tags svelte-13j2cdq"),p(e,"class","progetto svelte-13j2cdq")},m(u,h){w(u,e,h),j(e,l),j(e,n),j(e,i),j(i,a),j(a,g),j(e,r),j(e,c);for(let _=0;_<f.length;_+=1)f[_].m(c,null);v=!0,I||(B=[L(l,"click",s[2]),L(i,"click",s[3])],I=!0)},p(u,[h]){if(s=u,(!v||h&1&&!G(l.src,t=s[0].image[0].url))&&p(l,"src",t),(!v||h&1)&&d!==(d=s[0].name+"")&&le(g,d),h&1){k=s[0].tags;let _;for(_=0;_<k.length;_+=1){const E=C(s,k,_);f[_]?(f[_].p(E,h),$(f[_],1)):(f[_]=F(E),f[_].c(),$(f[_],1),f[_].m(c,null))}for(X(),_=k.length;_<f.length;_+=1)te(_);Y()}},i(u){if(!v){for(let h=0;h<k.length;h+=1)$(f[h]);o||re(()=>{o=se(e,ae,{duration:500,delay:100+s[1]*100}),o.start()}),v=!0}},o(u){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)P(f[h]);v=!1},d(u){u&&m(e),ee(f,u),I=!1,ne(B)}}}function ie(s,e,l){let{project:t}=e,{index:n}=e;const i=()=>S(`progetti/${t.slug}`),a=()=>S(`progetti/${t.slug}`);return s.$$set=d=>{"project"in d&&l(0,t=d.project),"index"in d&&l(1,n=d.index)},[t,n,i,a]}class fe extends T{constructor(e){super();U(this,e,ie,ce,Z,{project:0,index:1})}}function H(s,e,l){const t=s.slice();return t[1]=e[l],t[3]=l,t}function K(s){let e,l;return e=new fe({props:{project:s[1],index:s[3]}}),{c(){z(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const i={};n&1&&(i.project=t[1]),e.$set(i)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function N(s){let e,l;return{c(){e=b("a"),l=R("Altri progetti"),this.h()},l(t){e=q(t,"A",{class:!0,href:!0});var n=y(e);l=W(n,"Altri progetti"),n.forEach(m),this.h()},h(){p(e,"class","dark-button svelte-wetcq3"),p(e,"href","/progetti")},m(t,n){w(t,e,n),j(e,l)},d(t){t&&m(e)}}}function ue(s){let e,l,t,n,i=s[0],a=[];for(let r=0;r<i.length;r+=1)a[r]=K(H(s,i,r));const d=r=>P(a[r],1,1,()=>{a[r]=null});let g=s[0].length==3&&N();return{c(){e=b("div");for(let r=0;r<a.length;r+=1)a[r].c();l=V(),g&&g.c(),t=M(),this.h()},l(r){e=q(r,"DIV",{class:!0});var c=y(e);for(let o=0;o<a.length;o+=1)a[o].l(c);c.forEach(m),l=A(r),g&&g.l(r),t=M(),this.h()},h(){p(e,"class","lista-progetti svelte-wetcq3")},m(r,c){w(r,e,c);for(let o=0;o<a.length;o+=1)a[o].m(e,null);w(r,l,c),g&&g.m(r,c),w(r,t,c),n=!0},p(r,[c]){if(c&1){i=r[0];let o;for(o=0;o<i.length;o+=1){const v=H(r,i,o);a[o]?(a[o].p(v,c),$(a[o],1)):(a[o]=K(v),a[o].c(),$(a[o],1),a[o].m(e,null))}for(X(),o=i.length;o<a.length;o+=1)d(o);Y()}r[0].length==3?g||(g=N(),g.c(),g.m(t.parentNode,t)):g&&(g.d(1),g=null)},i(r){if(!n){for(let c=0;c<i.length;c+=1)$(a[c]);n=!0}},o(r){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)P(a[c]);n=!1},d(r){r&&m(e),ee(a,r),r&&m(l),g&&g.d(r),r&&m(t)}}}function _e(s,e,l){let{projects:t}=e;return s.$$set=n=>{"projects"in n&&l(0,t=n.projects)},[t]}class me extends T{constructor(e){super();U(this,e,_e,ue,Z,{projects:0})}}export{me as P};
